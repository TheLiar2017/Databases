### MySQL 数据类型介绍

1. **数值数据类型**:包括整数类型`tinyint`,`smallint`,`mediumint`, `int`,`bigint`.浮点小数数据类型`float`,`double`,定点小数类型`decimal`.
2. **日期/时间类型**: 包括`year`,`time`,`date`,`datetime`,`timestamp`.
3. **字符串类型**: 包括`char`,`varchar`,`binary`,`varbinary`,`blob`,`text`,`enum`,`set`等.字符串类型分为文本字符串和二进制字符串.

#### 整数类型

| 类型名称  | 说明           | 存储需求 |
| --------- | -------------- | :------- |
| tinyint   | 很小的整数     | 1个字节  |
| smallint  | 小的整数       | 2个字节  |
| mediumint | 中等的整数     | 3个字节  |
| int       | 普通大小的整数 | 4个字节  |
| bigint    | 大整数         | 8个字节  |



##### 关于 int(11) 括号中的数字

括号中的数字11表示该数据类型指定的显示宽度,指定能够显示的数值中数字的个数.

显示宽度和数据类型的取值范围是**无关**的.显示宽度是指明 MySQL 最大可能显示的数字个数.数值的位数小于指定的宽度时会由空格填充.如果插入了大于显示宽度的值,只要该值不超过该类型整数的取值范围.数值依然可以插入,而且能够显示.

#### 浮点数类型和定点数类型

MySQL 中使用浮点数和定点数来表示小数.浮点类型有两种:单精度浮点类型(float)和双精度浮点类型(double).定点类型只有一种: decimal

浮点类型和定点类型都可以用(M,N)来表示.其中 M表示**精度**,表示总共的位数; N称为**标度**,表示小数的位数.

> 不论是浮点还是定点类型,如果用户指定的精度超出精度范围,则会四舍五入进行处理.

如, 向列`x float(5,1)` 和 `y double(5,1)`分别插入数据 **5.12**,  **5.15** ,则存储结果为 **5.1**, **5.2**.

#### 日期和时间类型

| 类型名称  | 日期格式            | 日期范围                                        | 存储需求 |
| --------- | ------------------- | ----------------------------------------------- | -------- |
| year      | yyyy                | 1901~2155                                       | 1字节    |
| time      | hh:mm:ss            | -838:59:59~838:59:59                            | 3字节    |
| date      | yyyy-mm-dd          | 1000-01-01~9999-12-3                            | 3字节    |
| datetime  | yyyy-mm-dd hh:mm:ss | 1000-01-01 00:00:00~9999-12-31 23:59:59         | 8字节    |
| timestamp | yyyy-mm-dd hh:mm:ss | 1970-01-01 00:00:01 UTC~2038-01-19 03:14:07 UTC | 4字节    |

##### year

(1) 以4位字符串或者4位数字格式表示的 **year**  , 范围为 '1901'~'2155'.输入格式为'yyyy'或者 yyyy.

(2) 以2位字符串格式表示的**year**, 范围为'00'~'99', '00'~'69'和'70'~'99'范围的值分别被转换为`2000`~'2069'和`1970`~'1999'范围的**year**值. '0'与'00'的作用相同.

(3) 以2位数字表示的 **year**, 范围为1~99, 1~69和70~99范围的值分别被转换为2001~2069 和 1970~1999范围的year.  **注意**: 在这里 0值将被转换为0000,而不是 2000.

 ##### time

> time 类型用于只需要时间信息的值.在存储时需要3个字节.格式为'hh:mm:ss'. 分别表示时分秒.其中小时的部分取值范围比较大,原因是 time 类型不仅可以用表示一天的时间.

1. 'D hh:mm:ss' 格式的字符串.还可以使用下面任何一种"非严格"的语法:'hh:mm:ss', 'hh:mm', 'D hh:mm' , 'D hh'. 这里的 D 表示日.可以取 0~34之间的值.在插入数据库时, D 被转换为小时保存.
2. 'HHMMSS' 格式的,没有间隔符的字符串或者 HHMMSS 格式的数值,假定是有意义的时间. '101112'存储时被理解为'10:11:12'

> Time 为列分配简写值时注意: 如果没有冒号, Mysql 解释值时,假定最右边的两位为秒. 例如, '1112' 表示00:11:12. 同样 '12'被解释为 00:00:12.
>
> 相反, time 值中如果有冒号, '11:12'表示11:12:00.
>
> 在使用' D HH'格式时,小时一定要使用双位数值,如果是小于10 的小时数,应在前面加0.



##### date

> date 类型用在仅需要日期值时,没有时间部分.在存储时需要3个字节.日期格式为'yyyy-mm-dd',在给 date 类型的字段赋值时,可以使用字符串或者数字类型的数据插入.

1. 以'yyyy-mm-dd'或者' yyyymmdd'字符串格式表示的日期,取值范围为'1000-01-01'~'9999-12-03'.
2. 以'yy-mm-dd'或者' yymmdd'字符串格式表示的日期, 其中 yy 范围 '00~99'转换为'2000'~'2069','70'~'99'转换为'1970'~'1999'.
3. 以 yy-mm-dd 或者 yymmdd 数字格式表示的日期,与前面类似, 00-69表示2000~2069,70~99表示1970~1999.
4. 使用 current_date 或者 now(),插入当前系统日期.

##### datetime

> datetime 用于在需要同时包含日期和时间信息的值.存储时需要8个字节.格式为'yyyy-mm-dd hh: mm:ss'

1. 以'yyyy-mm-dd hh:mi:ss'或者'yyyymmddhhMMss'字符串格式表示的值.取值范围为'1000-01-01 00:00:00'~'9999-12-3 23:59:59'
2. 以'yy-mm-dd hh:mi:ss'或者' yymmddHHMMss'字符串格式表示的日期, yy 表示两位的年值.'00'~'69'范围表示'2000'~'2069','70'~'99'范围表示'1970'~'1999'.
3. 以 yyyymmddHHMMSS 或者 yymmddHHMMSS 数字格式表示的日期和时间.

##### timestamp

> timestamp 的显示格式与 datetime 相同, 显示宽度固定在19个字符,日期格式为 yyyy-mm-dd hh-mi-ss. 存储时需要4个字节.但是 timestamp 的取值范围比较小. '1970-01-01 00:00:01' UTC ~'2038-01-19 03:14:07' UTC,为世界标准时间.

timestamp 与 datetime 的区别: datetime 在存储日期数据时, 按实际的输入的格式存储,输入什么就存储什么.与时区无关. timestamp 的值是以 UTC 格式保存的,存储时对当前时区进行转换,检索时在转回当前时区.

#### 文本字符串类型

| 类型名称   | 说明                                         | 存储需求                                            |
| ---------- | -------------------------------------------- | --------------------------------------------------- |
| char(M)    | 固定长度非二进制字符串                       | M字节,1<=M<=255                                     |
| varchar(M) | 变长非二进制字符串                           | L+1字节, L<=M, 1<=M<=255                            |
| tinytext   | 非常小的非二进制字符串                       | L+1z字节, L<2^8^                                    |
| text       | 小的非二进制字符串                           | L+2字节, L < 2^16^                                  |
| mediumtext | 中等大小的非二进制字符串                     | L+3字节, L< 2^24^                                   |
| longtext   | 大的非二进制字符串                           | L+4字节, L< 2^32^                                   |
| enum       | 枚举类型,只能有一个枚举字符串值              | 1或2个字节,取决于枚举的数目,最大值65535             |
| set        | 一个设置,字符串对象可以有零个或多个 set 成员 | 1,2,3,4或8个字节.取决于集合成员的数量,最多64个成员. |

##### char 和 varchar 类型

* char(M)为固定长度字符串, 在定义时指定字符串列长,保存时在右侧填充空格以达到指定的长度.

varchar(M)是长度可变的字符串,实际占用空间为字符串实际长度加 1.

##### enum 类型

> enum 是一个字符串对象.其值为表创建时在列规定中枚举的一列值.

语法格式:

```mysql
字段名 enum('值1','值2',...'值n')
```

字段名指将要定义的字段,值n 指枚举列表中的第 n 个值, enum 类型的字段在取值时,只能在指定的枚举列表中取,而且每次只能取一个. enum 值在内部用整数表示,每个枚举值均有一个索引值: 列表值允许成员值从1开始编号,MySQL 存储的就是这个编号.

举个栗子:

```mysql
create table tmp9
(
    enu enum('first','second','third')
);
```

> enum 列总有一个默认值. 如果将 enum 声明为 null,null值则为该列的一个有效值.并且默认为 null. 如若 enum 列被声明为 not null ,其默认值为允许的值列表的第一个元素.

##### set 类型

> set 是一个字符串对象,可以有零或多个值.

语法规则:

```mysql
set(' 值1','值2',...'值 n')
```

enum类型的字段只能从定义的列值选择一个值插入, 而 set 类型的列可以从定义的列值中选择多个字符的联合.

举个栗子:

```mysql
-- 创建表
create table tmp11
(
    s set('a','b','c','d')
);

-- 插入数据
insert into tmp11 values ('a'), ('a,b,a'),('c,a,b');

-- 结果
a
a,b,
a,b,c

```

对于 set 来说,如果插入的值为重复的,则只取一个,如果插入了不按顺序排列值,而自动按顺序插入.



#### 二进制字符串类型

| 类型名称     | 说明                 | 存储需求             |
| ------------ | -------------------- | -------------------- |
| bit(M)       | 位字段类型           | 大约( M+7)/8个字节   |
| binary(M)    | 固定长度二进制字符串 | M个字节              |
| varbinary(M) | 可变长度二进制字符串 | M+1个字节            |
| tinyblob(M)  | 非常小的 blob        | L+1个字节, L < 2^8^  |
| blob(M)      | 小 blob              | L+2个字节, L < 2^16^ |
| mediumblob   | 中等大小的 blob      | L+3个字节, L < 2^24^ |
| longblob     | 非常大的 blob        | L+4个字节, L < 2^32^ |



### 运算符

#### 比较运算符

| 元素符      | 作用                                |
| ----------- | ----------------------------------- |
| =           | 等于                                |
| <=>         | 安全的等于                          |
| <>(!=)      | 不等于                              |
| <=          | 小于等于                            |
| >=          | 大于等于                            |
| >           | 大于                                |
| is null     | 判断一个值是否为空                  |
| is not null | 判断一个值是否不为 null             |
| least       | 在有两个或多个参数时,返回最小值     |
| greatest    | 在有两个或多个参数时,返回最大值     |
| between and | 判断一个值是否落在两个值之间        |
| isnull      | 与 is null 作用相同                 |
| in          | 判断一个值是 in 列表中的任意一个值  |
| not in      | 判断一个值不是 in列表中的任意一个值 |
| like        | 通配符匹配                          |
| regexp      | 正则表达式匹配                      |



#### 逻辑运算符

| 运算符      | 作用     |
| ----------- | -------- |
| not 或者!   | 逻辑非   |
| and 或者&&  | 逻辑与   |
| or 或者\|\| | 逻辑或   |
| xor         | 逻辑异或 |



